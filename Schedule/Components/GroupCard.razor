@using Schedule.Domain
@using Schedule.Domain.DisplayObjects.Group
<MudItem xs="12" sm="6" md="4" lg="3" xl="3" xxl="2">
    <MudCard Outlined="true" Class="align-center justify-center mud-width-full py-8 ma-3">
        <MudToggleIconButton Class="align-self-end mx-10"
                             @bind-Toggled="@IsFavorite"
                             Icon="@(Group!.Favorite ? Icons.Material.Filled.Favorite : Icons.Material.Filled.FavoriteBorder)"/>
        <MudCardContent>
            <MudText Typo="Typo.h6">@Group!.Name</MudText>
        </MudCardContent>
        <MudCardActions>
            <MudButton Variant="Variant.Outlined" Color="@(Group!.Expanded ? Color.Secondary : Color.Primary)"
                       OnClick="ShowGroups">
                @(!Group.Expanded ? "Open" : "Close")
            </MudButton>
        </MudCardActions>
        <MudCardContent>
            <MudCollapse Expanded="Group!.Expanded">
                @if (Group.Children != null)
                {
                    <MudList T="GroupDo">
                        @foreach (var group in Group.Children)
                        {
                            <MudListItem Text="@group.Name" OnClick="() => OpenGroupPage(group)"/>
                        }
                    </MudList>
                }
            </MudCollapse>
        </MudCardContent>
    </MudCard>
</MudItem>